
var _BAPI=_BAPI||{};if(typeof(_BAPI.t)==='undefined'){(function(doc){function sha1(d){function w(i){return String.fromCharCode(i);}
function b(j,i){return j.charCodeAt(i);}
function p(j,i){return(j<<i)|(j>>>(32-i));}
function o(B){var A="",r,j;for(r=7;r>=0;r--){j=(B>>>(r*4))&15;A+=j.toString(16);}
return A;}
function y(r){r=r.replace(/\r\n/g,"\n");var i="",B,A,j=128;for(B=0;B<r.length;B++){A=b(r,B);if(A<j){i+=w(A);}else{if((A>127)&&(A<2048)){i+=w((A>>6)|192)+w((A&63)|j);}else{i+=w((A>>12)|224)+w(((A>>6)&63)|j)+w((A&63)|j);}}}
return i;}
d=y(d);var h,F,z,c=[],n=1732584193,l=4023233417,k=2562383102,g=271733878,f=3285377520,e=4294967295,x,v,u,s,q,G,a=d.length,m=[],t=16;for(F=0;F<a-3;F+=4){z=b(d,F)<<24|b(d,F+1)<<t|b(d,F+2)<<8|b(d,F+3);m.push(z);}
switch(a%4){case 0:F=2147483648;break;case 1:F=b(d,a-1)<<24|8388608;break;case 2:F=b(d,a-2)<<24|b(d,a-1)<<t|32768;break;case 3:F=b(d,a-3)<<24|b(d,a-2)<<t|b(d,a-1)<<8|128;break;}
m.push(F);while((m.length%t)!=14){m.push(0);}
m.push(a>>>29);m.push((a<<3)&e);for(h=0;h<m.length;h+=t){for(F=0;F<t;F++){c[F]=m[h+F];}
for(F=t;F<=79;F++){c[F]=p(c[F-3]^c[F-8]^c[F-14]^c[F-t],1);}
x=n;v=l;u=k;s=g;q=f;for(F=0;F<=19;F++){G=(p(x,5)+((v&u)|(~v&s))+q+c[F]+1518500249)&e;q=s;s=u;u=p(v,30);v=x;x=G;}
for(F=20;F<=39;F++){G=(p(x,5)+(v^u^s)+q+c[F]+1859775393)&e;q=s;s=u;u=p(v,30);v=x;x=G;}
for(F=40;F<=59;F++){G=(p(x,5)+((v&u)|(v&s)|(u&s))+q+c[F]+2400959708)&e;q=s;s=u;u=p(v,30);v=x;x=G;}
for(F=60;F<=79;F++){G=(p(x,5)+(v^u^s)+q+c[F]+3395469782)&e;q=s;s=u;u=p(v,30);v=x;x=G;}
n=(n+x)&e;l=(l+v)&e;k=(k+u)&e;g=(g+s)&e;f=(f+q)&e;}
G=o(n)+o(l)+o(k)+o(g)+o(f);return G.toLowerCase();}
function uuid(){var c='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split(''),u=[];for(var i=0;i<25;i++){u[i]=c[Math.floor(Math.random()*62)];}
return u.join('');}
var
transIDLength=36,transIDRegexp=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/,toSend=[],batchLength=Math.floor(1500/transIDLength),prefix='_bapi.',now=new Date(),epoch=now.getTime(),expiry=';expires='+new Date(epoch+63E9).toGMTString(),cookie1=doc.cookie.split('; '),cookie2=[],cookieHash={},newCookies={},lastVisit,uniqueID,sessionID,monthRepeat=0,newSession=1,base='d3a2okcloueqyx.cloudfront.net/f1',url,timer,valid,schedule,location=doc.location;for(var cIter in cookie1){if(cookie1.hasOwnProperty(cIter)){cookie2=cookie1[cIter].split('=');cookieHash[cookie2[0]]=cookie2[1];}}
if(!(uniqueID=cookieHash[prefix+'u'])){uniqueID=uuid();newCookies[prefix+'u']=uniqueID+expiry;}
if(!(sessionID=cookieHash[prefix+'b'])){sessionID=uuid();newCookies[prefix+'b']=sessionID;}
newCookies[prefix+'e']=epoch+expiry;for(var newIter in newCookies){if(newCookies.hasOwnProperty(newIter)){doc.cookie=newIter+'='+newCookies[newIter];}}
lastVisit=cookieHash[prefix+'e'];if(lastVisit){lastVisit=new Date(parseInt(lastVisit,10));monthRepeat=(lastVisit.getMonth()===now.getMonth()&&lastVisit.getFullYear()===now.getFullYear())?1:0;newSession=(epoch-lastVisit.getTime()>18E5)?1:0;}
url=(location.protocol=='https:'?'https:':'http:')+'//'+base+'?u='+uniqueID+'&b='+
sessionID+'&e='+epoch+'&m='+monthRepeat+'&s='+newSession+'&r='+sha1(doc.referrer)+'&p='+
sha1(location.href.split('#')[0]);_BAPI.t=function(){var args=Array.prototype.slice.call(arguments);if(args.length===1&&args[0].constructor===Array){args=args[0];}
for(var argIter=0;argIter<args.length;argIter++){if(valid(args[argIter])){schedule(args[argIter]);}}};valid=function(item){return(item&&item.constructor===String&&item.length===transIDLength&&item.match(transIDRegexp));};schedule=function(id){var track,sendNow;clearTimeout(timer);track=function(items){if(items.length){new Image().src=url+'&t='+items.join(',');}};toSend.push(id);if(toSend.length>=batchLength){sendNow=toSend.slice(0,batchLength);toSend=toSend.slice(batchLength);track(sendNow);}
timer=setTimeout(function(){track(toSend);toSend=[];},1500);};}(document));}
